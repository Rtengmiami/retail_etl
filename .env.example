# =============================================================================
# Online Retail II ETL Pipeline - Environment Configuration Template
# =============================================================================
# 複製此檔案為 .env 並根據您的環境調整設定值
# Copy this file to .env and adjust the values for your environment

# =============================================================================
# Database Configuration - PostgreSQL Data Warehouse
# 資料庫配置 - PostgreSQL 資料倉儲
# =============================================================================
DB_HOST=postgres-retail
DB_PORT=5432
DB_NAME=retail_dw
DB_USER=airflow
DB_PASSWORD=airflow

# =============================================================================
# Airflow Configuration
# Airflow 配置
# =============================================================================
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres/airflow
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__CORE__LOAD_EXAMPLES=False

# =============================================================================
# ETL Configuration - Data Processing Settings
# ETL 配置 - 資料處理設定
# =============================================================================
# 資料來源檔案路徑 (容器內路徑)
# Data source file path (container internal path)
DATA_SOURCE_PATH=/opt/airflow/data/raw/online_retail_II.xlsx

# 批次處理大小 (建議值: 10000-50000)
# Batch processing size (recommended: 10000-50000)
BATCH_SIZE=10000

# 日誌等級 (DEBUG, INFO, WARNING, ERROR)
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# 資料品質閾值 (0.0-1.0, 預設 0.95 = 95%)
# Data quality threshold (0.0-1.0, default 0.95 = 95%)
DQ_THRESHOLD=0.95

# =============================================================================
# Email Configuration (Optional) - 電子郵件配置 (可選)
# =============================================================================
# SMTP 伺服器設定 (Gmail 範例)
# SMTP server settings (Gmail example)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# 發送郵件帳號 (請使用應用程式密碼，不是一般密碼)
# Sender email account (use app password, not regular password)
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# 警示通知收件人
# Alert notification recipients
ALERT_EMAIL=alerts@company.com

# =============================================================================
# Container Configuration (Advanced) - 容器配置 (進階)
# =============================================================================
# Airflow 使用者 ID
# Airflow user ID
AIRFLOW_UID=50000

# 專案根目錄 (容器內路徑)
# Project root directory (container internal path)
CONTAINER_PROJECT_PATH=/opt/airflow

# =============================================================================
# Performance Tuning (Optional) - 效能調優 (可選)
# =============================================================================
# PostgreSQL 連線池大小
# PostgreSQL connection pool size
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10

# 記憶體限制 (Docker 容器)
# Memory limit (Docker containers)
# AIRFLOW_MEMORY_LIMIT=2g
# POSTGRES_MEMORY_LIMIT=1g